# nginx.conf (Simplificado para o Frontend)
server {
    # O container deve escutar na porta padrão HTTP (80)
    # O Proxy Reverso de Borda (ex: Traefik/Caddy/Nginx principal) 
    # lidará com a porta 443 e SSL, e então redirecionará para a porta 80 deste container.
    listen 80; 

    # Não defina 'server_name'. O Proxy de Borda fará a correspondência do Host.
    # Se precisar definir, use apenas algo genérico.
    # server_name localhost; 

    # Diretório onde o build do seu frontend está (o padrão do Docker Nginx)
    root /usr/share/nginx/html;

    # Se uma rota não for encontrada (o padrão de um SPA), 
    # sirva o index.html para que o roteador do frontend cuide da navegação.
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Tratamento de erro 404 (opcional, mas bom para SPA)
    error_page 404 /index.html;

    # Se você tem uma API/Gateway no mesmo domínio, mas em um caminho específico (ex: /api/)
    # você pode adicionar uma localização específica para ele, se for *necessário* para o frontend.
    # Caso contrário, o Proxy de Borda deve lidar com isso.

    # Exemplo de API que seu frontend acessa em um caminho específico:
    # location /api/ {
    #    proxy_pass http://gateway:8000/api/;
    #    # Incluir headers importantes para o proxy
    #    include /etc/nginx/proxy_params; 
    # }

}
